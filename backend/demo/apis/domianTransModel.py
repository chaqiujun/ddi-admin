
# 二级领域
domainList_2 = [
    {"value": 11, "label": "军事理论"},
    {"value": 12, "label": "核"},
    {"value": 13, "label": "陆战"},
    {"value": 14, "label": "海战"},
    {"value": 15, "label": "空战"},
    {"value": 16, "label": "航天"},
    {"value": 17, "label": "网电空间"},
    {"value": 18, "label": "信息系统"},
    {"value": 19, "label": "综合保障"},
    {"value": 21, "label": "自主系统与人工智能"},
    {"value": 22, "label": "精确打击"},
    {"value": 23, "label": "先进防御"},
    {"value": 24, "label": "生物与医学"},
    {"value": 25, "label": "先进材料与制造"},
    {"value": 26, "label": "电子元器件"},
    {"value": 27, "label": "先进动力与能源"},
    {"value": 28, "label": "基础科学技术"},
    {"value": 29, "label": "非英外文"},
    {"value": 31, "label": "国防科技发展战略"},
    {"value": 32, "label": "科技管理"},
    {"value": 33, "label": "军备控制"},
    {"value": 34, "label": "试验鉴定"},
    {"value": 35, "label": "模拟仿真"},
]
# 三级领域
domainList_3 = [
    {"value": 111, "label": "未来战争"},
    {"value": 112, "label": "军事战略"},
    {"value": 113, "label": "作战理论"},
    {"value": 114, "label": "编制体制"},
    {"value": 115, "label": "战例和演习"},
    {"value": 121, "label": "核试验"},
    {"value": 122, "label": "核武器"},
    {"value": 123, "label": "核材料"},
    {"value": 131, "label": "装甲车辆"},
    {"value": 132, "label": "直升机"},
    {"value": 133, "label": "枪炮弹箭"},
    {"value": 134, "label": "军事工程"},
    {"value": 135, "label": "防化"},
    {"value": 141, "label": "水面舰船"},
    {"value": 142, "label": "舰载武器"},
    {"value": 143, "label": "潜艇"},
    {"value": 144, "label": "舰载机与反潜机"},
    {"value": 145, "label": "水中兵器"},
    {"value": 151, "label": "空战平台"},
    {"value": 152, "label": "机载武器"},
    {"value": 153, "label": "临近空间飞行器"},
    {"value": 161, "label": "卫星应用"},
    {"value": 162, "label": "运载器"},
    {"value": 163, "label": "卫星有效载荷"},
    {"value": 164, "label": "航天测量与控制"},
    {"value": 165, "label": "航天器"},
    {"value": 171, "label": "网络攻防"},
    {"value": 172, "label": "电子对抗"},
    {"value": 173, "label": "信息安全"},
    {"value": 174, "label": "软件与数据"},
    {"value": 175, "label": "战场环境信息"},
    {"value": 176, "label": "情报侦察"},
    {"value": 177, "label": "指挥控制"},
    {"value": 178, "label": "预警探测"},
    {"value": 179, "label": "通信与网络"},
    {"value": 181, "label": "未来战争"},
    {"value": 182, "label": "军事战略"},
    {"value": 183, "label": "作战理论"},
    {"value": 184, "label": "编制体制"},
    {"value": 185, "label": "战例和演习"},
    {"value": 191, "label": "综合保障"},
    {"value": 211, "label": "自主系统"},
    {"value": 212, "label": "人工智能"},
    {"value": 221, "label": "制导与控制"},
    {"value": 222, "label": "战斗部"},
    {"value": 231, "label": "先进动能拦截"},
    {"value": 232, "label": "高能激光"},
    {"value": 233, "label": "高功率微波"},
    {"value": 234, "label": "声能武器"},
    {"value": 235, "label": "电磁发射武器"},
    {"value": 241, "label": "军事医学"},
    {"value": 242, "label": "脑与认知"},
    {"value": 243, "label": "军用仿生"},
    {"value": 244, "label": "生物能源"},
    {"value": 245, "label": "生物材料"},
    {"value": 246, "label": "生物电子"},
    {"value": 251, "label": "先进制造"},
    {"value": 252, "label": "航天材料"},
    {"value": 253, "label": "电子材料"},
    {"value": 254, "label": "舰船材料"},
    {"value": 255, "label": "兵器材料"},
    {"value": 261, "label": "微电子器件"},
    {"value": 262, "label": "光电子器件"},
    {"value": 263, "label": "特种元件与微纳系统"},
    {"value": 264, "label": "真空电子器件"},
    {"value": 265, "label": "机电组件"},
    {"value": 271, "label": "先进动力"},
    {"value": 272, "label": "新能源"},
    {"value": 281, "label": "基础科学技术"},
    {"value": 291, "label": "日文资源"},
    {"value": 292, "label": "俄文资源"},
    {"value": 293, "label": "法文资源"},
    {"value": 294, "label": "德文资源"},
    {"value": 311, "label": "规划计划"},
    {"value": 312, "label": "发展战略"},
    {"value": 313, "label": "国防科技需求"},
    {"value": 314, "label": "体系设计与评估"},
    {"value": 321, "label": "政策法规"},
    {"value": 322, "label": "军民融合"},
    {"value": 323, "label": "国防工业"},
    {"value": 324, "label": "体制机制"},
    {"value": 325, "label": "项目管理"},
    {"value": 326, "label": "国防经济"},
    {"value": 327, "label": "成果管理"},
    {"value": 331, "label": "反恐防扩散"},
    {"value": 332, "label": "网络军控"},
    {"value": 333, "label": "外空军控"},
    {"value": 334, "label": "核军控"},
    {"value": 335, "label": "生化军控"},
    {"value": 336, "label": "常规军控"},
    {"value": 341, "label": "试验鉴定"},
    {"value": 351, "label": "模拟仿真"},
    {"value": 361, "label": "无分类"},
]

def getDomainTypeNum(domain):
    if domain[0]["ND_scientific_field"] is None:
        return 360  # 无分类
    elif domain[0]["ND_scientific_field"] == "其他":
        return 360
    else:  
        if domain[0]["technology_direction"] is None:  
            for item in domainList_3:
                if domain[0]["ND_scientific_field"] == item["label"]:
                    return item["value"]
        elif domain[0]["technology_direction"] == "其他":
            for item in domainList_2:
                if domain[0]["ND_scientific_field"] == item["label"]:
                    return item["value"] * 10
        else:
            for item in domainList_3:
                if domain[0]["technology_direction"] == item["label"]:
                    return item["value"]
            return 360
        
def reconstructDomainTypeNum(num):
    if num == 360:
        return '未分类'
    elif num % 10 == 0:
        label = None
        for item in domainList_2:
            if item["value"] == num // 10:
                label = item["label"]
                break
        if label is not None:
            return label
    else:
        label = None
        for item in domainList_3:
            if item["value"] == num:
                label = item["label"]
                break
        if label is not None:
            return label
    return '未分类'

if __name__ == '__main__':
    # 测试模型
    print(getDomainTypeNum([
            {
                "ND_scientific_field": "\u57fa\u7840\u79d1\u5b66\u6280\u672f", 
                "technology_direction": None
            }
            ]))
    print(reconstructDomainTypeNum(360))
    
